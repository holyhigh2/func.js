{"_path":"/api/modules/tree","_dir":"modules","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Module: tree","description":"tree相关函数","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"module-tree"},"children":[{"type":"text","value":"Module: tree"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"tree相关函数"}]},{"type":"element","tag":"h3","props":{"id":""},"children":[]},{"type":"element","tag":"h2","props":{"id":"functions"},"children":[{"type":"text","value":"Functions"}]},{"type":"element","tag":"h3","props":{"id":"arraytotree"},"children":[{"type":"text","value":"arrayToTree"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"▸ "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"arrayToTree"}]},{"type":"text","value":"("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"array"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"idKey?"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pidKey?"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options?"}]},{"type":"text","value":"): "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">"},{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用高性能算法，将array结构数据变为tree结构数据"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Example"}]}]}]},{"type":"element","tag":"code","props":{"code":"//生成测试数据\nfunction addChildren(count,parent){\n const data = [];\n const pid = parent?parent.id:null;\n const parentName = parent?parent.name+'-':'';\n _.each(_.range(0,count),i=>{\n   const sortNo = _.randi(0,count);\n   data.push({id:_.alphaId(),pid,name:parentName+i,sortNo})\n });\n return data;\n}\n\nfunction genTree(depth,parents,data){\n _.each(parents,r=>{\n   const children = addChildren(_.randi(1,4),r);\n   if(depth-1>0){\n     genTree(depth-1,children,data);\n   }\n   _.append(data,...children);\n });\n}\n\nconst roots = addChildren(2);\nconst data = [];\ngenTree(2,roots,data);\n_.insert(data,0,...roots);\n\nconst tree = _.arrayToTree(data,'id','pid',{attrMap:{text:'name'}});\n_.walkTree(tree,(parentNode,node,chain)=>console.log('node',node.text,'sortNo',node.sortNo,'chain',_.map(chain,n=>n.name)));\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-08b5e7"},"children":[{"type":"text","value":"//生成测试数据"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"addChildren"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"count"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"parent"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"){"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" [];"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"pid"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" parent"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"?"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"parent.id"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"parentName"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" parent"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"?"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"parent.name"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'-'"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"each"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"range"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",count),"}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"i"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"sortNo"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"randi"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",count);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   data."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"push"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"({id:_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"alphaId"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(),pid,name:parentName"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"i,sortNo})"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" data;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"genTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"depth"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"parents"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"){"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"each"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(parents,"}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"children"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"addChildren"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"randi"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"4"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"),r);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(depth"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"){"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"     "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"genTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(depth"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",children,data);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"append"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(data,"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"children);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"roots"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"addChildren"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" [];"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"genTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",roots,data);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"insert"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(data,"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"roots);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"tree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"arrayToTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(data,"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'id'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'pid'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",{attrMap:{text:"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'name'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"}});"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"walkTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(tree,("}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"parentNode"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"node"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"chain"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"console."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'node'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",node.text,"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'sortNo'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",node.sortNo,"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'chain'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"map"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(chain,"}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"n"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"n.name)));"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Since"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1.5.0"}]},{"type":"element","tag":"h4","props":{"id":"parameters"},"children":[{"type":"text","value":"Parameters"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Type"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Default value"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Description"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"array"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">"},{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"undefined"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"原始数据集。如果非Array类型，返回空数组"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"idKey"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"string"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"'id'"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"id标识"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pidKey?"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"string"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"undefined"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"-"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Object"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"{}"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"自定义选项"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options.attrMap?"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"string"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"undefined"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"转换tree节点时的属性映射，如{text:'name'}表示把array中一条记录的name属性映射为tree节点的text属性"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options.childrenKey?"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"string"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"undefined"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"包含子节点容器的key。默认'children'"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options.rootParentValue?"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"undefined"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"根节点的parentValue，用于识别根节点。默认null"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options.sortKey?"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"string"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"undefined"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"如果指定排序字段，则会在转换tree时自动排序。字段值可以是数字或字符等可直接进行比较的类型。性能高于转换后再排序"}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"returns"},"children":[{"type":"text","value":"Returns"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">"},{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"返回转换好的顶级节点数组或空数组"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h3","props":{"id":"closest"},"children":[{"type":"text","value":"closest"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"▸ "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"closest"}]},{"type":"text","value":"("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"node"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"predicate"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"parentKey"}]},{"type":"text","value":"): "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":"> | "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"根据指定的node及parentKey属性，查找最近的祖先节点"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Since"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2.2.0"}]},{"type":"element","tag":"h4","props":{"id":"parameters-1"},"children":[{"type":"text","value":"Parameters"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Type"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Description"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"node"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Element节点或普通对象节点"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"predicate"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"node"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"times"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"number"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cancel"}]},{"type":"text","value":": () => "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"void"}]},{"type":"text","value":") => "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"boolean"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"(node,times,cancel)断言函数，如果返回true表示节点匹配。或调用cancel中断查找"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"parentKey"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"string"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"父节点引用属性名"}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"returns-1"},"children":[{"type":"text","value":"Returns"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":"> | "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"断言为true的最近一个祖先节点"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h3","props":{"id":"filtertree"},"children":[{"type":"text","value":"filterTree"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"▸ "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"filterTree"}]},{"type":"text","value":"("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"treeNodes"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"predicate"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options?"}]},{"type":"text","value":"): "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">"},{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"类似"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"findTreeNodes"}]},{"type":"text","value":"，但会返回包含所有父节点的节点副本数组，已做去重处理。\n结果集可用于重新构建tree"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Example"}]}]}]},{"type":"element","tag":"code","props":{"code":"//生成测试数据\nfunction addChildren(count,parent){\n const data = [];\n const pid = parent?parent.id:null;\n const parentName = parent?parent.name+'-':'';\n _.each(_.range(0,count),i=>{\n   const sortNo = _.randi(1,4);\n   data.push({id:_.alphaId(),pid,name:parentName+i,sortNo})\n });\n return data;\n}\n\nfunction genTree(depth,parents,data){\n _.each(parents,r=>{\n   const children = addChildren(_.randi(1,4),r);\n   if(depth-1>0){\n     genTree(depth-1,children,data);\n   }\n   _.append(data,...children);\n });\n}\n\nconst roots = addChildren(2);\nconst data = [];\ngenTree(2,roots,data);\n_.insert(data,0,...roots);\nconst tree = _.arrayToTree(data,'id','pid',{sortKey:'sortNo'});\n\n_.each(_.filterTree(tree,node=>node.sortNo>1),node=>console.log(_.omit(node,'children','id','pid')))\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-08b5e7"},"children":[{"type":"text","value":"//生成测试数据"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"addChildren"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"count"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"parent"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"){"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" [];"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"pid"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" parent"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"?"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"parent.id"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"parentName"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" parent"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"?"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"parent.name"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'-'"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"each"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"range"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",count),"}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"i"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"sortNo"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"randi"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"4"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   data."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"push"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"({id:_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"alphaId"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(),pid,name:parentName"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"i,sortNo})"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" data;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"genTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"depth"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"parents"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"){"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"each"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(parents,"}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"children"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"addChildren"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"randi"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"4"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"),r);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(depth"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"){"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"     "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"genTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(depth"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",children,data);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"append"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(data,"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"children);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"roots"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"addChildren"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" [];"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"genTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",roots,data);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"insert"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(data,"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"roots);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"tree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"arrayToTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(data,"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'id'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'pid'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",{sortKey:"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'sortNo'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"});"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"each"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"filterTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(tree,"}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"node"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"node.sortNo"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"),"}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"node"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"console."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"omit"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(node,"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'children'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'id'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'pid'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":")))"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Since"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1.5.0"}]},{"type":"element","tag":"h4","props":{"id":"parameters-2"},"children":[{"type":"text","value":"Parameters"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Type"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Description"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"treeNodes"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":"> | "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">"},{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"一组节点或一个节点"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"predicate"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"node"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">) => "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"boolean"}]},{"type":"text","value":" | "},{"type":"element","tag":"a","props":{"href":"types.md#nonfuncitee"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NonFuncItee"}]}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"(node) 断言 "},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"当断言是函数时回调参数见定义 "},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"其他类型请参考 "},{"type":"element","tag":"a","props":{"href":"utils.md#iteratee"},"children":[{"type":"text","value":"iteratee"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options?"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Object"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"自定义选项"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options.childrenKey?"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"string"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"包含子节点容器的key。默认'children'"}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"returns-2"},"children":[{"type":"text","value":"Returns"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">"},{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"找到的符合条件的所有节点副本或空数组"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h3","props":{"id":"findtreenode"},"children":[{"type":"text","value":"findTreeNode"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"▸ "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"findTreeNode"}]},{"type":"text","value":"("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"treeNodes"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"predicate"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options?"}]},{"type":"text","value":"): "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":"> | "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"undefined"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"查找给定节点及所有子孙节点中符合断言的第一个节点并返回"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Example"}]}]}]},{"type":"element","tag":"code","props":{"code":"//生成测试数据\nfunction addChildren(count,parent){\n const data = [];\n const pid = parent?parent.id:null;\n const parentName = parent?parent.name+'-':'';\n _.each(_.range(0,count),i=>{\n   const sortNo = _.randi(0,count);\n   data.push({id:_.alphaId(),pid,name:parentName+i,sortNo})\n });\n return data;\n}\n\nfunction genTree(depth,parents,data){\n _.each(parents,r=>{\n   const children = addChildren(_.randi(2,5),r);\n   if(depth-1>0){\n     genTree(depth-1,children,data);\n   }\n   _.append(data,...children);\n });\n}\n\nconst roots = addChildren(2);\nconst data = [];\ngenTree(4,roots,data);\n_.insert(data,0,...roots);\nconst tree = _.arrayToTree(data,'id','pid',{sortKey:'sortNo'});\n\nconsole.log(_.omit(_.findTreeNode(tree,node=>node.sortNo>2),'children','id','pid'))\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-08b5e7"},"children":[{"type":"text","value":"//生成测试数据"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"addChildren"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"count"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"parent"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"){"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" [];"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"pid"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" parent"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"?"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"parent.id"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"parentName"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" parent"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"?"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"parent.name"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'-'"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"each"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"range"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",count),"}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"i"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"sortNo"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"randi"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",count);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   data."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"push"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"({id:_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"alphaId"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(),pid,name:parentName"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"i,sortNo})"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" data;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"genTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"depth"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"parents"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"){"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"each"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(parents,"}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"children"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"addChildren"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"randi"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"),r);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(depth"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"){"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"     "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"genTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(depth"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",children,data);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"append"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(data,"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"children);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"roots"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"addChildren"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" [];"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"genTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"4"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",roots,data);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"insert"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(data,"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"roots);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"tree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"arrayToTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(data,"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'id'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'pid'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",{sortKey:"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'sortNo'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"});"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"console."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"omit"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"findTreeNode"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(tree,"}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"node"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"node.sortNo"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"),"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'children'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'id'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'pid'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"))"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Since"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1.5.0"}]},{"type":"element","tag":"h4","props":{"id":"parameters-3"},"children":[{"type":"text","value":"Parameters"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Type"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Description"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"treeNodes"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":"> | "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">"},{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"一组节点或一个节点"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"predicate"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"node"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">) => "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"boolean"}]},{"type":"text","value":" | "},{"type":"element","tag":"a","props":{"href":"types.md#nonfuncitee"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NonFuncItee"}]}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"(node) 断言 "},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"当断言是函数时回调参数见定义 "},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"其他类型请参考 "},{"type":"element","tag":"a","props":{"href":"utils.md#iteratee"},"children":[{"type":"text","value":"iteratee"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options?"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Object"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"自定义选项"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options.childrenKey?"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"string"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"包含子节点容器的key。默认'children'"}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"returns-3"},"children":[{"type":"text","value":"Returns"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":"> | "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"undefined"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第一个匹配断言的节点或undefined"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h3","props":{"id":"findtreenodes"},"children":[{"type":"text","value":"findTreeNodes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"▸ "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"findTreeNodes"}]},{"type":"text","value":"("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"treeNodes"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"predicate"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options?"}]},{"type":"text","value":"): "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">"},{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"查找给定节点及所有子孙节点中符合断言的所有节点并返回"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Example"}]}]}]},{"type":"element","tag":"code","props":{"code":"//生成测试数据\nfunction addChildren(count,parent){\n const data = [];\n const pid = parent?parent.id:null;\n const parentName = parent?parent.name+'-':'';\n _.each(_.range(0,count),i=>{\n   const sortNo = _.randi(0,count);\n   data.push({id:_.alphaId(),pid,name:parentName+i,sortNo})\n });\n return data;\n}\n\nfunction genTree(depth,parents,data){\n _.each(parents,r=>{\n   const children = addChildren(_.randi(2,5),r);\n   if(depth-1>0){\n     genTree(depth-1,children,data);\n   }\n   _.append(data,...children);\n });\n}\n\nconst roots = addChildren(2);\nconst data = [];\ngenTree(3,roots,data);\n_.insert(data,0,...roots);\nconst tree = _.arrayToTree(data,'id','pid',{sortKey:'sortNo'});\n\n_.each(_.findTreeNodes(tree,node=>node.sortNo>2),node=>console.log(_.omit(node,'children','id','pid')))\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-08b5e7"},"children":[{"type":"text","value":"//生成测试数据"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"addChildren"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"count"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"parent"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"){"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" [];"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"pid"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" parent"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"?"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"parent.id"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"parentName"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" parent"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"?"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"parent.name"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'-'"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"each"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"range"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",count),"}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"i"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"sortNo"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"randi"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",count);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   data."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"push"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"({id:_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"alphaId"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(),pid,name:parentName"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"i,sortNo})"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" data;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"genTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"depth"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"parents"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"){"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"each"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(parents,"}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"children"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"addChildren"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"randi"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"),r);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(depth"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"){"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"     "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"genTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(depth"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",children,data);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"append"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(data,"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"children);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"roots"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"addChildren"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" [];"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"genTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"3"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",roots,data);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"insert"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(data,"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"roots);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"tree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"arrayToTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(data,"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'id'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'pid'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",{sortKey:"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'sortNo'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"});"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"each"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"findTreeNodes"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(tree,"}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"node"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"node.sortNo"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"),"}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"node"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"console."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"omit"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(node,"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'children'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'id'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'pid'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":")))"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Since"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1.5.0"}]},{"type":"element","tag":"h4","props":{"id":"parameters-4"},"children":[{"type":"text","value":"Parameters"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Type"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Description"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"treeNodes"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":"> | "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">"},{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"一组节点或一个节点"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"predicate"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"node"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">) => "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"boolean"}]},{"type":"text","value":" | "},{"type":"element","tag":"a","props":{"href":"types.md#nonfuncitee"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NonFuncItee"}]}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"(node) 断言 "},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"当断言是函数时回调参数见定义 "},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"其他类型请参考 "},{"type":"element","tag":"a","props":{"href":"utils.md#iteratee"},"children":[{"type":"text","value":"iteratee"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options?"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Object"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"自定义选项"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options.childrenKey?"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"string"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"包含子节点容器的key。默认'children'"}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"returns-4"},"children":[{"type":"text","value":"Returns"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">"},{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"找到的符合条件的所有节点或空数组"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h3","props":{"id":"sorttree"},"children":[{"type":"text","value":"sortTree"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"▸ "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"sortTree"}]},{"type":"text","value":"("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"treeNodes"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"comparator"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options?"}]},{"type":"text","value":"): "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"void"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对给定节点及所有子孙节点(同级)排序"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Example"}]}]}]},{"type":"element","tag":"code","props":{"code":"//生成测试数据\nfunction addChildren(count,parent){\n const data = [];\n const pid = parent?parent.id:null;\n const parentName = parent?parent.name+'-':'';\n _.each(_.range(0,count),i=>{\n   const sortNo = _.randi(0,9);\n   data.push({id:_.alphaId(),pid,name:parentName+i,sortNo})\n });\n return data;\n}\n\nfunction genTree(depth,parents,data){\n _.each(parents,r=>{\n   const children = addChildren(_.randi(1,4),r);\n   if(depth-1>0){\n     genTree(depth-1,children,data);\n   }\n   _.append(data,...children);\n });\n}\n\nconst roots = addChildren(1);\nconst data = [];\ngenTree(2,roots,data);\n_.insert(data,0,...roots);\nlet tree = _.arrayToTree(data,'id','pid');\n\nconsole.log('Before sort---------------');\n_.walkTree(_.cloneDeep(tree),(parentNode,node,chain)=>console.log('node',node.name,'sortNo',node.sortNo))\n_.sortTree(tree,(a,b)=>a.sortNo - b.sortNo);\nconsole.log('After sort---------------');\n_.walkTree(tree,(parentNode,node,chain)=>console.log('node',node.name,'sortNo',node.sortNo))\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-08b5e7"},"children":[{"type":"text","value":"//生成测试数据"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"addChildren"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"count"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"parent"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"){"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" [];"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"pid"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" parent"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"?"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"parent.id"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"parentName"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" parent"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"?"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"parent.name"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'-'"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"each"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"range"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",count),"}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"i"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"sortNo"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"randi"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"9"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   data."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"push"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"({id:_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"alphaId"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(),pid,name:parentName"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"i,sortNo})"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" data;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"genTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"depth"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"parents"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"){"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"each"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(parents,"}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"children"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"addChildren"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"randi"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"4"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"),r);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(depth"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"){"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"     "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"genTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(depth"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",children,data);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"append"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(data,"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"children);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"roots"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"addChildren"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" [];"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"genTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",roots,data);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"insert"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(data,"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"roots);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" tree "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"arrayToTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(data,"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'id'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'pid'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"console."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'Before sort---------------'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"walkTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"cloneDeep"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(tree),("}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"parentNode"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"node"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"chain"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"console."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'node'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",node.name,"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'sortNo'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",node.sortNo))"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"sortTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(tree,("}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"a"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"b"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"a.sortNo "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" b.sortNo);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"console."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'After sort---------------'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"walkTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(tree,("}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"parentNode"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"node"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"chain"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"console."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'node'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",node.name,"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'sortNo'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",node.sortNo))"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Since"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1.5.0"}]},{"type":"element","tag":"h4","props":{"id":"parameters-5"},"children":[{"type":"text","value":"Parameters"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Type"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Description"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"treeNodes"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":"> | "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">"},{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"一组节点或一个节点"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"comparator"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"a"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"b"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">) => "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"number"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"(a,b) 排序函数"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options?"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Object"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"自定义选项"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options.childrenKey?"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"string"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"包含子节点容器的key。默认'children'"}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"returns-5"},"children":[{"type":"text","value":"Returns"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"void"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h3","props":{"id":"walktree"},"children":[{"type":"text","value":"walkTree"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"▸ "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"walkTree"}]},{"type":"text","value":"("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"treeNodes"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"callback"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options?"}]},{"type":"text","value":"): "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"void"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"以给定节点为根遍历所有子孙节点。深度优先"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Example"}]}]}]},{"type":"element","tag":"code","props":{"code":"//生成测试数据\nfunction addChildren(count,parent){\n const data = [];\n const pid = parent?parent.id:null;\n const parentName = parent?parent.name+'-':'';\n _.each(_.range(0,count),i=>{\n   const sortNo = _.randi(0,count);\n   data.push({id:_.alphaId(),pid,name:parentName+i,sortNo})\n });\n return data;\n}\n\nfunction genTree(depth,parents,data){\n _.each(parents,r=>{\n   const children = addChildren(_.randi(1,4),r);\n   if(depth-1>0){\n     genTree(depth-1,children,data);\n   }\n   _.append(data,...children);\n });\n}\n\nconst roots = addChildren(2);\nconst data = [];\ngenTree(2,roots,data);\n_.insert(data,0,...roots);\nconst tree = _.arrayToTree(data,'id','pid',{sortKey:'sortNo'});\n\n_.walkTree(tree,(parentNode,node,chain)=>console.log('node',node.name,'sortNo',node.sortNo,'chain',_.map(chain,n=>n.name)))\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-08b5e7"},"children":[{"type":"text","value":"//生成测试数据"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"addChildren"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"count"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"parent"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"){"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" [];"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"pid"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" parent"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"?"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"parent.id"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"parentName"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" parent"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"?"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"parent.name"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'-'"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"each"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"range"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",count),"}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"i"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"sortNo"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"randi"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",count);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   data."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"push"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"({id:_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"alphaId"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(),pid,name:parentName"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"i,sortNo})"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" data;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"genTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"depth"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"parents"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"){"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"each"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(parents,"}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"children"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"addChildren"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"randi"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"4"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"),r);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(depth"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"){"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"     "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"genTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(depth"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",children,data);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"   _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"append"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(data,"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"children);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"roots"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"addChildren"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" [];"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"genTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",roots,data);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"insert"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(data,"}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"roots);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ba3e93"},"children":[{"type":"text","value":"tree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":" _."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"arrayToTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(data,"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'id'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'pid'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",{sortKey:"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'sortNo'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"});"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"walkTree"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(tree,("}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"parentNode"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"node"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"chain"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"console."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'node'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",node.name,"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'sortNo'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",node.sortNo,"}]},{"type":"element","tag":"span","props":{"class":"ct-c11760"},"children":[{"type":"text","value":"'chain'"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":",_."}]},{"type":"element","tag":"span","props":{"class":"ct-11d32e"},"children":[{"type":"text","value":"map"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"(chain,"}]},{"type":"element","tag":"span","props":{"class":"ct-643c9d"},"children":[{"type":"text","value":"n"}]},{"type":"element","tag":"span","props":{"class":"ct-b5b355"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b603e4"},"children":[{"type":"text","value":"n.name)))"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Since"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1.5.0"}]},{"type":"element","tag":"h4","props":{"id":"parameters-6"},"children":[{"type":"text","value":"Parameters"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Type"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Description"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"treeNodes"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":"> | "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">"},{"type":"element","tag":"span","props":{},"children":[]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"一组节点或一个节点"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"callback"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"parentNode"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"node"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"chain"}]},{"type":"text","value":": "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">"},{"type":"element","tag":"span","props":{},"children":[]},{"type":"text","value":") => "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"number"}]},{"type":"text","value":" | "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"boolean"}]},{"type":"text","value":" | "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"void"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"(parentNode,node,chain)回调函数，如果返回false则中断遍历，如果返回-1则停止分支遍历"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options?"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Record"}]},{"type":"text","value":"<"},{"type":"element","tag":"a","props":{"href":"types.md#unknownmapkey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"UnknownMapKey"}]}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"any"}]},{"type":"text","value":">"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"自定义选项"}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"returns-6"},"children":[{"type":"text","value":"Returns"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"void"}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-c11760{color:#0A3069}\n.ct-ba3e93{color:#0550AE}\n.ct-643c9d{color:#953800}\n.ct-11d32e{color:#8250DF}\n.ct-b603e4{color:#24292F}\n.ct-b5b355{color:#CF222E}\n.ct-08b5e7{color:#6E7781}\n.dark .ct-08b5e7{color:#8B949E}\n.dark .ct-b5b355{color:#FF7B72}\n.dark .ct-b603e4{color:#C9D1D9}\n.dark .ct-11d32e{color:#D2A8FF}\n.dark .ct-643c9d{color:#FFA657}\n.dark .ct-ba3e93{color:#79C0FF}\n.dark .ct-c11760{color:#A5D6FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"","depth":3,"text":""},{"id":"functions","depth":2,"text":"Functions","children":[{"id":"arraytotree","depth":3,"text":"arrayToTree"},{"id":"closest","depth":3,"text":"closest"},{"id":"filtertree","depth":3,"text":"filterTree"},{"id":"findtreenode","depth":3,"text":"findTreeNode"},{"id":"findtreenodes","depth":3,"text":"findTreeNodes"},{"id":"sorttree","depth":3,"text":"sortTree"},{"id":"walktree","depth":3,"text":"walkTree"}]}]}},"_type":"markdown","_id":"content:2.api:modules:tree.md","_source":"content","_file":"2.api/modules/tree.md","_extension":"md"}